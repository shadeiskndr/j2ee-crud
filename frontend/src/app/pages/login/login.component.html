<div class="flex items-center justify-center min-h-[60vh]">
  <form
    (ngSubmit)="login()"
    class="card bg-surface-0 dark:bg-surface-900 p-8 rounded-2xl shadow-2xl border border-surface-200 dark:border-surface-700 w-full max-w-md flex flex-col gap-6"
    autocomplete="off"
  >
    <h2
      class="text-3xl font-bold text-center text-surface-900 dark:text-surface-100 mb-2"
    >
      Login
    </h2>

    <p-iftalabel>
      <p-iconfield>
        <p-inputicon class="pi pi-user" />
        <input
          pInputText
          id="username"
          name="username"
          [(ngModel)]="username"
          autocomplete="username"
          required
          class="w-full"
        />
      </p-iconfield>
      <label for="username">Username</label>
    </p-iftalabel>

    <div class="flex flex-col gap-1">
      <p-iftalabel>
        <p-iconfield>
          <p-inputicon class="pi pi-lock" />
          <input
            pInputText
            id="password"
            name="password"
            [(ngModel)]="password"
            [type]="passwordVisible ? 'text' : 'password'"
            autocomplete="password"
            required
            class="w-full"
          />
          <p-inputicon
            [ngClass]="passwordVisible ? 'pi pi-eye-slash' : 'pi pi-eye'"
            style="cursor: pointer"
            (click)="passwordVisible = !passwordVisible"
          />
        </p-iconfield>
        <label for="password">Password</label>
      </p-iftalabel>

      <div class="text-right">
        <a
          href="#"
          (click)="goToForgotPassword($event)"
          class="text-sm text-surface-500 dark:text-surface-400 hover:underline hover:text-primary transition-colors cursor-pointer"
          >Forgot Password?</a
        >
      </div>
    </div>

    <p-button
      type="submit"
      label="Login"
      [disabled]="!username || !password || isLoading"
      [loading]="isLoading"
      loadingIcon="pi pi-spinner pi-spin"
      styleClass="w-full"
    ></p-button>

    <div *ngIf="error" class="text-red-500 text-sm text-center">
      {{ error }}
    </div>

    <div class="text-center text-sm text-surface-600 dark:text-surface-400">
      Don't have an account?
      <a
        href="#"
        (click)="goToRegister($event)"
        class="text-primary font-semibold hover:underline transition-colors cursor-pointer"
        >Register</a
      >
    </div>
  </form>
</div>
